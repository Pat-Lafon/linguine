using "compute";

int factor;

void main() {
    compiled_multiplier = compile(multiplier);
    int[3] result_comp;
    with compiled_multiplier {
        bind 3 to factor, [1, 2, 3] to compiled_multiplier.var1 {
            compiled_multiplier.run() | write(result_comp);
        }
    }

    print result_comp;
}

@unroll var1;
program multiplier : X {
    in int var1;
    out int result;

    void main() {
        result = var1 * factor;
    }
}

program adder {}